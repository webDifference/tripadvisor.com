window["adrum-app-key"]="AD-AAB-AAF-YXT";window["adrum-start-time"]=new Date().getTime();
(function(){new function(){if(!window.ADRUM&&!0!==window["adrum-disable"]){var b=window.ADRUM={};window["adrum-start-time"]=window["adrum-start-time"]||(new Date).getTime();(function(c){(function(d){d.yd=function(){for(var f=[],e=0;e<arguments.length;e++){f[e-0]=arguments[e]}for(e=0;e<f.length;e++){var g=f[e];g&&g.setUp()}}})(c.monitor||(c.monitor={}))})(b||(b={}));(function(c){(function(D){function y(d){return E.slice.apply(d,E.slice.call(arguments,1))}function A(d){return"undefined"!==typeof d&&null!==d}function B(d){return"object"==typeof d&&!D.isArray(d)&&null!==d}function C(d){return"function"==typeof d||!1}function x(d){return"string"==typeof d}function v(f,k){for(var l in k){var d=k[l];if(j(k,l)){var g=f[l];B(d)&&B(g)?v(g,d):D.isArray(g)&&D.isArray(d)?f[l]=g.concat(d):f[l]=d}}return f}function j(e,d){return Object.prototype.hasOwnProperty.call(e,d)&&A(e[d])}function u(d){return x(d)?d.replace(/^\s*/,"").replace(/\s*$/,""):d}function i(f,e){var g=Array.prototype[f];return g?z(g):o(f,e)}function z(d){return function(e){return d.apply(e,y(arguments,1))}}function o(e,d){return function(g,f){if(!A(g)){throw new TypeError(e+" called on null or undefined")}if(!C(f)){throw new TypeError(f+" is not a function")}return d.apply(null,arguments)}}function G(g,f,l){var m=Object(g),k=m.length>>>0,h=0;if(3>arguments.length){for(;h<k&&!(h in m);){h++}if(h>=k){throw new TypeError("Reduce of empty array with no initial value")}l=m[h++]}for(;h<k;h++){h in m&&(l=f(l,m[h],h,m))}return l}function F(e,f,g){return D.reduce(e,function(h,d,l,k){h[l]=f.call(g,d,l,k);return h},Array(e.length>>>0))}function n(e,f,g){return D.reduce(e,function(h,d,l,k){f.call(g,d,l,k)&&h.push(d);return h},[])}var E={isArray:Array.isArray,toString:Object.prototype.toString,slice:Array.prototype.slice};D.lf=y;D.isDefined=A;D.isArray=C(E.isArray)&&C(E.isArray.bind)?E.isArray.bind(Array):function(d){return E.toString.call(d)===E.toString.call([])};D.isObject=B;D.isFunction=C;D.isString=x;D.isNumber=function(d){return"number"==typeof d};D.isBoolean=function(d){return"boolean"==typeof d};D.lb=function(d){setTimeout(d,0)};D.addEventListener=function(f,h,k){function g(){try{return k.apply(this,y(arguments))}catch(d){c.exception(d,"M1",h,f,d)}}c.isDebug&&c.log("M0",h,f);f.addEventListener?f.addEventListener(h,g,!1):f.attachEvent&&f.attachEvent("on"+h,g)};D.loadScriptAsync=function(e){var f=document.createElement("script");f.async=!0;f.src=e;var g=document.getElementsByTagName("script")[0];g?(g.parentNode.insertBefore(f,g),c.log("M2",e)):c.log("M3",e)};D.mergeJSON=v;D.hasOwnPropertyDefined=j;D.Wh=function(e){var f=[];A(e)&&(f=D.isArray(e)?e:[e]);return f};D.generateGUID=function(d){return A(d)&&C(d.getRandomValues)&&function(){function e(g){g=g.toString(16);return"0000".substr(g.length)+g}var f=new Uint16Array(8);d.getRandomValues(f);return e(f[0])+e(f[1])+"_"+e(f[2])+"_"+e(f[3])+"_"+e(f[4])+"_"+e(f[5])+e(f[6])+e(f[7])}}(window.crypto||window.msCrypto)||function(){return"xxxxxxxx_xxxx_4xxx_yxxx_xxxxxxxxxxxx".replace(/[xy]/g,function(e){var d=16*Math.random()|0;return("x"==e?d:d&3|8).toString(16)})};D.Id=function(d){return d?(d=d.stack)&&"string"===typeof d?d:null:null};D.trim=u;D.fh=function(g){var f={},l,m;if(!g){return f}var k=g.split("\n");for(m=0;m<k.length;m++){var h=k[m];l=h.indexOf(":");g=u(h.substr(0,l)).toLowerCase();l=u(h.substr(l+1));g&&(f[g]=f[g]?f[g]+(", "+l):l)}return f};D.tryPeriodically=function(g,f,l,m){function k(){if(f()){l&&l()}else{var d=g(++h);0<d?setTimeout(k,d):m&&m()}}var h=0;k()};D.gc=function(d){return d.charAt(0).toUpperCase()+d.slice(1)};D.cd=function(f){for(var e=[],g=1;g<arguments.length;g++){e[g-1]=arguments[g]}return function(){for(var h=[],k=0;k<arguments.length;k++){h[k-0]=arguments[k]}return f.apply(this,e.concat(h))}};D.now=function(){return(new Date).getTime()};D.mi=G;D.reduce=i("reduce",G);D.li=F;D.map=i("map",F);D.ki=n;D.filter=i("filter",n);D.Ef=function(d){return D.filter(d,A)};D.vf=function(d){return[].concat.apply([],d)}})(c.utils||(c.utils={}))})(b||(b={}));(function(d){var c=d.conf||(d.conf={});c.userConf=window["adrum-config"]||{};c.useHTTPSAlways=!0===c.userConf.useHTTPSAlways;c.beaconUrlHttp=d.utils.isDefined(c.userConf.beaconUrlHttp)?c.userConf.beaconUrlHttp:"http://col.eum-appdynamics.com";c.beaconUrlHttps=d.utils.isDefined(c.userConf.beaconUrlHttps)?c.userConf.beaconUrlHttps:"https://col.eum-appdynamics.com";c.corsEndpointPath="/eumcollector/beacons/browser/v1";c.imageEndpointPath="/eumcollector/adrum.gif?";c.appKey=c.userConf.appKey||window["adrum-app-key"]||"APP_KEY_NOT_SET";d=c.useHTTPSAlways||"https:"===document.location.protocol;var f=c.userConf.adrumExtUrlHttp||"http://cdn.appdynamics.com",h=c.userConf.adrumExtUrlHttps||"https://cdn.appdynamics.com";c.adrumExtUrl=(d?h:f)+"/adrum-ext.1a8b12b95a83c56607b4f2630299a91e.js";c.adrumXdUrl=h+"/adrum-xd.1a8b12b95a83c56607b4f2630299a91e.html";c.agentVer="4.4.0.117";c.sendImageBeacon=c.userConf.beacon&&c.userConf.beacon.sendImageBeacon||window["adrum-send-image-beacon"];window["adrum-geo-resolver-url"]?(f=window["adrum-geo-resolver-url"],h=f.indexOf("://"),-1!=h&&(f=f.substring(h+3)),f=(d?"https://":"http://")+f):(f=c.userConf.geoResolverUrlHttps||"",h=c.userConf.geoResolverUrlHttp||"",f=d?f:h);c.geoResolverUrl=f;c.useStrictDomainCookies=!0===window["adrum-use-strict-domain-cookies"];c.Ce=10})(b||(b={}));(function(z){function y(f,h,k,g){f=z.conf.beaconUrlHttps+"/eumcollector/error.gif?version=1&appKey="+k+"&msg="+encodeURIComponent(f.substring(0,500));g&&(f+="&stack=",f+=encodeURIComponent(g.substring(0,1500-f.length)));return f}function t(e,f){2<=n||(document.createElement("img").src=y(e,0,z.conf.appKey,f),n++)}function v(c){return 0<=c.location.search.indexOf("ADRUM_debug=true")||0<=c.cookie.search(/(^|;)\s*ADRUM_debug=true/)}function w(c){z.isDebug&&i.push(p(arguments).join(" | "))}function x(c){u.push(p(arguments).join(" | "))}function s(d){var c=p(arguments).join(" | ");w(c);t(c,null)}var p=z.utils.lf,j=z.utils.reduce,o=z.utils.isDefined;z.iDR=v;(function(c){c[c.API_ERROR=0]="API_ERROR";c[c.API_ERROR_INVALID_PARAMS=1]="API_ERROR_INVALID_PARAMS";c[c.API_ERROR_INVALID_CONFIG=2]="API_ERROR_INVALID_CONFIG";c[c.API_WARNING=3]="API_WARNING";c[c.API_WARNING_INEFFECTIVE_CONFIG=4]="API_WARNING_INEFFECTIVE_CONFIG"})(z.Xd||(z.Xd={}));z.ia=["JS Agent API Error:","JS Agent API Error Invalid Parameters: ","JS Agent API Error Invalid Configs: ","JS Agent API Warning:","JS Agent API Warning Ineffective Config:"];z.U=" a constructor is called as a function. Don't forget keyword new.";z.isDebug=v(document);z.apiMessageConsoleOut=o(z.conf.userConf)&&o(z.conf.userConf.log)&&!0===z.conf.userConf.log.apiMessageConsoleOut?!0:!1;var i=[],u=[];z.logMessages=i;z.apiMessages=u;z.log=w;z.Di=x;z.error=s;z.reportAPIMessage=function(c,l,h,g){var f=z.ih.apply(this,arguments);x(f);z.apiMessageConsoleOut&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log(f);return f};z.exception=function(){if(!(1>arguments.length)){var d=p(arguments),e=z.utils.Id(d[0]),d=d.slice(1).join(" | ");w(d);t(d,e)}};z.assert=function(d,c){d||s("Assert fail: "+c)};z.dumpLog=z.isDebug?function(){return j(i,function(d,c){return d+c.replace(/\<br\/\>/g,"\n\t")+"\n"},"")}:function(){};z.ih=function(f,A,B,r){var m="",m="",g=(new window.Error).stack,l,g=z.utils.isString(g)?g.substring(5):g+"";o(l)||(l=z.utils.map(r,function(c){return null===c?"null":void 0==c?"undefined":""===c?"''":c}));switch(f){case 0:case 3:m=z.ia[f];m=o(B)?""+m+A+"\n in "+B+"("+l.join(", ")+")\n"+g:""+m+A+"\n"+g;break;case 1:m=z.ia[f];m=""+m+A+"\nin "+B+"("+l.join(", ")+")\n"+g;break;case 2:case 4:m=z.ia[f];m=""+m+A+", but "+B+"="+l.join(", ")+"\n"+g;break;default:m=z.ia[0],m=""+m+A+"\nin "+B+"("+l.join(", ")+")\n"+g}return m};z.cIEBU=y;var n=0;w("M4")})(b||(b={}));(function(d){var c=function(){function f(g){this.max=g;this.Ma=0}f.prototype.sg=function(){this.va()||this.Ma++};f.prototype.va=function(){return this.Ma>=this.max};f.prototype.reset=function(){this.Ma=0};return f}(),e=function(){function f(){this.oa=[];this.ob=new c(f.Ne);this.ab=new c(f.Ge)}f.prototype.submit=function(g){this.push(g)&&d.initEXTDone&&this.processQ()};f.prototype.processQ=function(){for(var g=this.Hf(),i=0;i<g.length;i++){var h=g[i];"function"===typeof d.commands[h[0]]?(d.isDebug&&d.log("M5",h[0],h.slice(1).join(", ")),d.commands[h[0]].apply(d,h.slice(1))):d.error("M6",h[0])}};f.prototype.Jg=function(g){return"reportXhr"===g||"reportPageError"===g};f.prototype.push=function(g){var j=g[0],i=this.Jg(j),h=i?this.ob:this.ab;if(h.va()){return d.log("M7",i?"spontaneous":"non spontaneous",j),!1}this.oa.push(g);h.sg();return !0};f.prototype.Hf=function(){var g=this.oa;this.reset();return g};f.prototype.size=function(){return this.oa.length};f.prototype.reset=function(){this.oa=[];this.ob.reset();this.ab.reset()};f.prototype.isSpontaneousQueueDead=function(){return this.ob.va()};f.prototype.isNonSpontaneousQueueDead=function(){return this.ab.va()};f.Ne=100;f.Ge=100;return f}();d.de=e})(b||(b={}));(function(c){c.q=new c.de;c.command=function(d){for(var e=1;e<arguments.length;e++){}c.isDebug&&c.log("M8",d,Array.prototype.slice.call(arguments).slice(1).join(", "));c.q.submit(Array.prototype.slice.call(arguments))}})(b||(b={}));(function(c){(function(d){var e=function(){function f(){this.status={}}f.prototype.setUp=function(){};f.prototype.set=function(h,g){this.status[h]=g};return f}();d.Fb=e})(c.monitor||(c.monitor={}))})(b||(b={}));(function(c){(function(d){window.ADRUM.aop=d;d.support=function(e){return !e||"apply" in e};d.around=function(i,j,k,l,f){c.assert(d.support(i),"aop.around called on a function which does not support interception");i=i||function(){};return function(){c.isDebug&&c.log("M9",l,Array.prototype.slice.call(arguments).join(", "));var g=Array.prototype.slice.call(arguments),p;try{j&&(p=j.apply(this,g))}catch(h){c.exception(h,"M10",l,h)}c.assert(!p||"[object Array]"===Object.prototype.toString.call(p));var n=void 0;try{n=i.apply(this,p||g)}catch(o){throw f&&f(o),o}finally{try{k&&k.apply(this,g)}catch(e){c.exception(e,"M11",l,e)}}return n}};d.before=function(f,g,h){return d.around(f,g,null,h)};d.after=function(f,g,h){return d.around(f,null,g,h)}})(c.aop||(c.aop={}))})(b||(b={}));(function(c){c=c.EventType||(c.EventType={});c[c.PageView=0]="PageView";c[c.Ajax=2]="Ajax";c[c.VPageView=3]="VPageView";c[c.Error=4]="Error";c[c.IFRAME=1]="IFRAME";c[c.ABSTRACT=100]="ABSTRACT";c[c.ADRUM_XHR=101]="ADRUM_XHR";c[c.NG_VIRTUAL_PAGE=102]="NG_VIRTUAL_PAGE"})(b||(b={}));(function(c){c=c.events||(c.events={});c.w={};c.w[100]={guid:"string",url:"string",parentGUID:"string",parentUrl:"string",parentType:"number",timestamp:"number"};c.w[3]={resTiming:"object"};c.w[102]={digestCount:"number"};c.w[2]={method:"string",parentPhase:"string",parentPhaseId:"number",error:"object",parameter:"object",xhrStatus:"number"};c.w[101]={allResponseHeaders:"string"};c.w[4]={msg:"string",line:"number",stack:"string"}})(b||(b={}));(function(d){var c=function(){function f(){this.D={}}f.prototype.mark=function(h,g){e.mark.apply(this,arguments)};f.prototype.getTiming=function(g){return(g=this.getEntryByName(g))&&g.startTime};f.prototype.measure=function(h,g,i){e.measure.apply(this,arguments)};f.prototype.getEntryByName=function(g){return e.getEntryByName.call(this,g)};f.La=function(g){return e.La(g)};return f}();d.PerformanceTracker=c;var e;(function(f){var j=d.utils.hasOwnPropertyDefined,l=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance,i=d.utils.isObject(l)&&d.utils.isObject(l.timing)&&d.utils.isNumber(l.timing.navigationStart)?l.timing.navigationStart:window["adrum-start-time"],g=d.utils.now;f.mark=function(h,k){this.D[h]={name:h,entryType:"mark",startTime:d.utils.isDefined(k)?k:g(),duration:0}};f.measure=function(h,m,k){j(this.D,m)&&j(this.D,k)?this.D[h]={name:h,entryType:"measure",startTime:m?this.D[m].startTime:i,duration:(k?this.D[k].startTime:g())-(m?this.D[m].startTime:i)}:d.error("M12",j(this.D,m)?k:m)};f.getEntryByName=function(h){return this.D[h]||null};f.La=function(h){return h+i}})(e||(e={}))})(b||(b={}));(function(c){(function(f){function h(g,l){g=g||{};for(var k in g){l[k]=function(){var m=k,e=g[k];return function(d){var o="_"+m,n=this[o];if(c.utils.isDefined(d)){if(typeof d===e){this[o]=d}else{throw o="wrong type of "+m+" value, "+typeof d+" passed in but should be a "+e+".",c.reportAPIMessage(1,o,"ADRUM.report",Array.prototype.slice.call(arguments)),TypeError(o)}}return n}}()}}function i(k){var g={},m;for(m in k){var l=k[m];g[l.start]=!0;g[l.end]=!0}return g}var j=function(){function d(e){this.perf=new c.PerformanceTracker;"Object"===this.constructor.name&&c.reportAPIMessage(0,c.U);this.timestamp(c.utils.now());this.guid(c.utils.generateGUID());this.url(document.URL);this.Da(e)}d.prototype.type=function(){return 100};d.prototype.Da=function(e){if(c.utils.isObject(e)){for(var g in e){var k=this[g]||this["mark"+c.utils.gc(g)];k&&c.utils.isFunction(k)&&k.call(this,e[g])}}};d.cc=function(g,e,k){return{guid:function(){return g},url:function(){return e},type:function(){return k}}};d.prototype.gg=function(){return d.cc(this.parentGUID(),this.parentUrl(),this.parentType())};d.prototype.parent=function(e){var g=this.gg();c.utils.isDefined(e)&&(c.utils.isFunction(e.guid)&&c.utils.isFunction(e.url)&&c.utils.isFunction(e.type)?(this.parentGUID(e.guid()),this.parentUrl(e.url()),this.parentType(e.type())):c.reportAPIMessage(0,"object is not a valid EventIdentifier","EventTracker.parent",Array.prototype.slice.call(arguments)));return g};return d}();f.EventTracker=j;f.$=h;f.dc=function(e,m){e=e||{};var g=i(e),l;for(l in g){g=c.utils.gc(l),m["mark"+g]=c.utils.cd(function(k,d){this.perf.mark(k,d)},l),m["get"+g]=c.utils.cd(function(d){return this.perf.getTiming(d)},l)}};h(f.w[100],j.prototype)})(c.events||(c.events={}))})(b||(b={}));var a=this.df||function(d,c){function f(){this.constructor=d}for(var h in c){c.hasOwnProperty(h)&&(d[h]=c[h])}f.prototype=c.prototype;d.prototype=new f};(function(c){(function(d){var e=function(f){function g(h){this.constructor!=g?c.reportAPIMessage(0,c.U,"ADRUM.events.Error",[]):f.call(this,h)}a(g,f);g.prototype.type=function(){return 4};return g}(d.EventTracker);d.Error=e;d.$(d.w[4],e.prototype)})(c.events||(c.events={}))})(b||(b={}));(function(c){(function(d){var e=function(f){function g(){f.apply(this,arguments)}a(g,f);g.prototype.setUp=function(){var h=this;f.prototype.setUp.call(this);c.listenForErrors=function(){h.Sc()};this.Sc()};g.prototype.nh=function(){g.Ra=0};g.prototype.md=function(h,l,i,j){g.Ra>=c.conf.Ce?c.log("M13"):(j=c.utils.Id(j),c.command("reportPageError",new c.events.Error(c.utils.mergeJSON({msg:h+"",url:c.utils.isString(l)?l:void 0,line:c.utils.isNumber(i)?i:void 0,stack:j},this.status))),g.Ra++,g.hadErrors=!0)};g.prototype.Sc=function(){var h=this;c.aop.support(window.onerror)?(window.onerror=c.aop.around(window.onerror,function(i,m,l,j,k){g.Ya||(h.md(i,m,l,k),g.Ya=!0)},function(){g.Ya=!1},"onerror"),c.log("M14")):c.log("M15")};g.Ya=!1;g.Ra=0;g.hadErrors=!1;return g}(d.Fb);d.ErrorMonitor=e;d.ra=new d.ErrorMonitor})(c.monitor||(c.monitor={}))})(b||(b={}));(function(d){var c=function(){function e(){this.Fa=[];this.Aa(e.Ia,0)}e.prototype.Wg=function(f){this.Aa(e.Xb,f)};e.prototype.Yg=function(f){this.Aa(e.ec,f)};e.prototype.Xg=function(f){this.Aa(e.Zb,f)};e.prototype.Aa=function(g,f){this.Fa.push({Vg:(new Date).getTime(),Ug:f,dd:g});this.Bf=g};e.prototype.getPhaseName=function(){return this.Bf};e.prototype.getPhaseID=function(f){for(var g=0;g<e.bc.length;g++){if(e.bc[g]===f){return g}}return null};e.prototype.getPhaseCallbackTime=function(g){for(var f=this.Fa,h=0;h<f.length;h++){if(f[h].dd===g){return f[h].Vg}}return null};e.prototype.findPhaseAtNominalTime=function(f){d.assert(0<=f);for(var g=this.Fa,h=g.length-1;0<=h;h--){if(f>=g[h].Ug){return g[h].dd}}d.error("M16",f,d.utils.If(g));return e.Ia};e.Ia="AFTER_FIRST_BYTE";e.Xb="AFTER_DOM_INTERACTIVE";e.ec="AT_ONLOAD";e.Zb="AFTER_ONLOAD";e.bc=[e.Ia,e.Xb,e.ec,e.Zb];return e}();d.fi=c;d.lifecycle=new c;d.lifecycle=d.lifecycle})(b||(b={}));(function(c){(function(d){var e=function(g){function f(){g.apply(this,arguments)}a(f,g);f.prototype.type=function(){return 0};return f}(d.EventTracker);d.PageView=e})(c.events||(c.events={}))})(b||(b={}));(function(c){(function(d){var f=c.utils.now,h=function(){function e(){}e.prototype.setUp=function(){var g=document.readyState;if("loading"===g){c.log("M17"),e.xh(),e.zd()}else{var i={timeStamp:f()};e.V(i);"interactive"===g?(c.log("M18"),e.zd()):(c.log("M19"),e.ba(i),e.bd(i))}};e.zd=function(){c.utils.addEventListener(window,"load",e.ba);c.utils.addEventListener(window,"load",e.bd)};e.bd=function(g){e.currentBasePage=new c.events.PageView;c.lifecycle.Yg(g&&g.timeStamp);c.utils.lb(function(){var i=f();c.lifecycle.Xg(i);c.command("mark","onload",i);d.PerformanceMonitor.perf&&(d.perfMonitor.wf(),d.perfMonitor.xf());c.command("reportOnload",e.currentBasePage);c.utils.loadScriptAsync(c.conf.adrumExtUrl)});c.log("M20")};e.xh=function(){if(c.utils.isFunction(document.addEventListener)){document.addEventListener("DOMContentLoaded",e.V,!1)}else{if(c.utils.isObject(document.attachEvent)){document.attachEvent("onreadystatechange",e.V);var g=null;try{g=null===window.frameElement?document.documentElement:null}catch(j){}null!=g&&g.doScroll&&function i(){if(!e.isReady){try{g.doScroll("left")}catch(k){setTimeout(i,10);return}e.ba()}}()}else{c.exception("M21")}}c.log("M22")};e.ba=function(g){e.Vc||(c.lifecycle.Wg(g&&g.timeStamp),c.command("mark","onready",f()),e.Vc=!0)};e.V=function(g){document.addEventListener?(document.removeEventListener("DOMContentLoaded",e.V,!1),e.ba(g)):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e.V),e.ba(g))};e.isReady=!1;e.Vc=!1;return e}();d.DOMEventsMonitor=h;d.Gf=new d.DOMEventsMonitor})(c.monitor||(c.monitor={}))})(b||(b={}));(function(c){(function(d){var e=function(){function f(){this.navTiming=this.resTiming=null}f.prototype.setUp=function(){f.perf=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance;c.utils.isObject(f.perf)&&c.utils.isObject(f.perf.timing)||(f.perf=void 0);this.setResourceTimingBufferSize()};f.prototype.setResourceTimingBufferSize=function(){var g=f.perf,h=c.conf.userConf&&c.conf.userConf.resTiming&&c.conf.userConf.resTiming.bufSize;!c.utils.isNumber(h)||0>=h?c.log("M23"):g&&c.utils.isFunction(g.setResourceTimingBufferSize)?g.setResourceTimingBufferSize(h):c.log("M24setResourceTimingBufferSize is not supported")};f.prototype.wf=function(){var j=f.perf;if(j=j&&j.timing){if(j.navigationStart&&j.navigationStart<=j.loadEventEnd){var l={},i;for(i in j){var g=j[i];"number"===typeof g&&(l[i]=g)}this.navTiming=l}else{c.log("M26")}}else{c.log("M25")}};f.prototype.xf=function(){this.resTiming=this.Ac()};f.prototype.Ac=function(){var g=f.perf,h=[];g&&g.getEntriesByType&&(g=g.getEntriesByType("resource"))&&g.length&&0<g.length&&g.unshift&&(h=g);0==h.length&&c.log("M27");return h};f.perf=null;return f}();d.PerformanceMonitor=e;d.perfMonitor=new d.PerformanceMonitor})(c.monitor||(c.monitor={}))})(b||(b={}));(function(c){(function(d){d.parseURI=function(f){var e=String(f).replace(/^\s+|\s+$/g,"").match(/^([^:\/?#]+:)?(?:\/\/(?:([^:@\/?#]*)(?::([^:@\/?#]*))?@)?(([^:\/?#]*)(?::(\d*))?))?([^?#]*)(\?[^#]*)?(#[\s\S]*)?/);f=e&&null!=f.match(e[1]+"//");return e&&{href:e[0]||"",protocol:e[1]||"",nb:f?"//":"",ub:e[2]||"",gb:e[3]||"",host:e[4]||"",hostname:e[5]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:e[9]||""}};d.absolutizeURI=function(w,t){function u(f){var e=[];f.replace(/^(\.\.?(\/|$))+/,"").replace(/\/(\.(\/|$))+/g,"/").replace(/\/\.\.$/,"/../").replace(/\/?[^\/]*/g,function(h){"/.."===h?e.pop():e.push(h)});return e.join("").replace(/^\//,"/"===f.charAt(0)?"/":"")}var v,r,p,g,o,s,i,j;j=t?d.parseURI(t):{};i=w?d.parseURI(w):{};j.protocol?(v=j.protocol,r=j.nb,p=j.ub,g=j.gb,o=j.host,s=u(j.pathname),i=j.search):j.host?(v=i.protocol,r=i.nb,p=j.ub,g=j.gb,o=j.host,s=u(j.pathname),i=j.search):(v=i.protocol,r=i.nb,p=i.ub,g=i.gb,o=i.host,j.pathname?("/"===j.pathname.charAt(0)?s=u(j.pathname):(s=i.pathname?i.pathname.slice(0,i.pathname.lastIndexOf("/")+1)+j.pathname:r?"/"+j.pathname:j.pathname,s=u(s)),i=j.search):(s=u(i.pathname),i=j.search||i.search));return v+r+(p?p+(g?":"+g:"")+"@":"")+o+s+i+(j.hash?j.hash:"")};d.getFullyQualifiedUrl=function(m){try{var o,p=document.location.href,r;c:{for(var j=document.getElementsByTagName("base"),i=0;i<j.length;i++){var n=j[i].href;if(n){r=n;break c}}r=void 0}o=r?d.absolutizeURI(p,r):p;return d.absolutizeURI(o,m)}catch(f){return c.exception(f,"M28",m,o),m}}})(c.utils||(c.utils={}))})(b||(b={}));(function(c){c=c.events||(c.events={});c=c.b||(c.b={});c.navigationStart="navigationStart";c.domainLookupStart="domainLookupStart";c.domainLookupEnd="domainLookupEnd";c.connectStart="connectStart";c.secureConnectionStart="secureConnectionStart";c.connectEnd="connectEnd";c.requestStart="requestStart";c.responseStart="responseStart";c.responseEnd="responseEnd";c.domContentLoadedEventStart="domContentLoadedEventStart";c.loadEventEnd="loadEventEnd";c.vd="sendTime";c.uc="firstByteTime";c.rd="respAvailTime";c.sd="respProcTime";c.wb="viewChangeStart";c.Nd="viewChangeEnd";c.xb="viewDOMLoaded";c.Sd="xhrRequestsCompleted";c.Qi="viewFragmentsLoaded";c.Ri="viewResourcesLoaded";c.yb="virtualPageStart";c.Th="virtualPageEnd"})(b||(b={}));(function(c){c=c.events||(c.events={});c.metricSpec={};c.metricSpec[0]={Nf:{start:c.b.navigationStart,end:c.b.loadEventEnd,name:"PLT"},Uf:{start:c.b.navigationStart,end:c.b.responseStart,name:"FBT"},Mi:{start:c.b.navigationStart,end:c.b.requestStart,name:"SCT"},Ni:{start:c.b.secureConnectionStart,end:c.b.connectEnd,name:"SHT"},si:{start:c.b.domainLookupStart,end:c.b.domainLookupEnd,name:"DLT"},Pi:{start:c.b.connectStart,end:c.b.connectEnd,name:"TCP"},Ki:{start:c.b.requestStart,end:c.b.responseStart,name:"RAT"},ui:{start:c.b.responseStart,end:c.b.loadEventEnd,name:"FET"},wi:{start:c.b.responseStart,end:c.b.domContentLoadedEventStart,name:"DRT"},vi:{start:c.b.responseStart,end:c.b.responseEnd,name:"DDT"},qi:{start:c.b.responseEnd,end:c.b.domContentLoadedEventStart,name:"DPT"},Ji:{start:c.b.domContentLoadedEventStart,end:c.b.loadEventEnd,name:"PRT"},ri:{start:c.b.navigationStart,end:c.b.domContentLoadedEventStart,name:"DOM"}};c.metricSpec[2]={Uf:{start:c.b.vd,end:c.b.uc,name:"FBT"},ji:{start:c.b.uc,end:c.b.rd,name:"DDT"},ii:{start:c.b.rd,end:c.b.sd,name:"DPT"},Nf:{start:c.b.vd,end:c.b.sd,name:"PLT"}};c.metricSpec[3]={Ci:{start:c.b.yb,end:c.b.Th,name:"PLT"},oi:{start:c.b.wb,end:c.b.Nd,name:"DDT"},zi:{start:c.b.wb,end:c.b.xb,name:"DRT"},$h:{start:c.b.Nd,end:c.b.xb,name:"DPT"},ai:{start:c.b.wb,end:c.b.xb,name:"DOM"},Ii:{start:"viewChangeEnd",end:"xhrRequestsCompleted",name:null},Ai:{start:"viewChangeEnd",end:"viewPartialsLoaded",name:null},yi:{start:"viewPartialsLoaded",end:"viewFragmentsLoaded",name:null},Bi:{start:"viewPartialsLoaded",end:"viewResourcesLoaded",name:null}};c.metricSpec[102]=c.metricSpec[3]})(b||(b={}));(function(c){(function(d){var e=function(f){function g(h){this.constructor!=g&&this.constructor!=d.AdrumAjax?c.reportAPIMessage(0,c.U,"ADRUM.events.Ajax",[]):f.call(this,h)}a(g,f);g.prototype.type=function(){return 2};return g}(d.EventTracker);d.Ajax=e;d.$(d.w[2],e.prototype);d.dc(d.metricSpec[2],e.prototype)})(c.events||(c.events={}))})(b||(b={}));(function(c){(function(d){var e=function(g){function f(h){g.call(this,h)}a(f,g);f.prototype.type=function(){return 2};return f}(d.Ajax);d.AdrumAjax=e;d.$(d.w[101],e.prototype)})(c.events||(c.events={}))})(b||(b={}));(function(c){(function(z){var u=c.utils.isObject,w=c.utils.isDefined,x=c.utils.map,y=c.utils.reduce,t=c.utils.filter,r=c.utils.Wh,i=c.utils.isString,p=c.utils.Ef,v=c.utils.vf,j=c.utils.isFunction,o=c.utils.mergeJSON,A=function(d){function e(){d.call(this);this.conf=null;this.pb=!1;this.Ja=0;!0===window["adrum-xhr-disable"]?c.log("M29"):window.XMLHttpRequest?(this.conf={exclude:[{urls:[{pattern:c.conf.beaconUrlHttp+c.conf.corsEndpointPath},{pattern:c.conf.beaconUrlHttps+c.conf.corsEndpointPath}]}],include:[],maxPerPageView:e.Db},e.jd(this.conf,c.conf.userConf&&c.conf.userConf.xhr),(this.g=window.XMLHttpRequest.prototype)?"open" in this.g&&"send" in this.g?(this.pb=c.aop.support(this.g.open)&&c.aop.support(this.g.send))||c.log("M33"):c.log("M32"):c.log("M31")):c.log("M30")}a(e,d);e.jd=function(f,h){var k=e.Db;if(h){var g=h.maxPerPageView;c.utils.isNumber(g)&&0<g?k=g:c.reportAPIMessage(4,"value is not valid; don't limit xhr","xhr.maxPerPageView",[g])}f.maxPerPageView=k;f.exclude=e.vb(e.Md,"exclude",f,h);f.include=e.vb(e.Md,"include",f,h);f.parameter=e.vb(e.Rh,"parameter",h)};e.vb=function(g,f){for(var k=[],h=2;h<arguments.length;h++){k[h-2]=arguments[h]}return p(x(t(v(x(p(k),function(l){return r(l[f])})),e.Dg(f)),g))};e.Md=function(g){var f=e.gd(g);g=e.hd(g);return f||g};e.Dg=function(f){return function(g){return u(g)||c.reportAPIMessage(2,"Filter object must be an object","xhr."+f,[g])}};e.hd=function(g){var f=g.urls;if(f&&0<f.length&&(g.urls=e.zf(f),0<g.urls.length)){return g}};e.gd=function(f){var g=f.method;if(w(g)){if(i(g)){return f}c.error("M34")}};e.Rh=function(g){var f=e.hd(g);e.gd(g);return e.jh(g)&&f};e.jh=function(f){if(j(f.getFromBody)){return f}c.error("M35")};e.zf=function(f){for(var k=[],l=0;l<f.length;l++){var g=f[l].pattern;if("string"===typeof g){try{k.push(new RegExp(g))}catch(h){c.exception(h,"Parse regex pattern failed.")}}else{c.error("xhr filter pattern should be a string")}}return k};e.Ad=function(g,f,h){var k=h&&h.include;h=h&&h.exclude;return k&&0<k.length&&!e.Pc(f,g,k)||h&&0<h.length&&e.Pc(f,g,h)};e.qc=function(f){var h=f.message||f.description,k=f.fileName||f.filename,g=f.lineNumber;c.utils.isString(f.description)&&0<=f.description.indexOf("Access is denied.")&&(h+=": maybe you have CORS XHR error in IE");c.monitor.ra.md(h,k,g,f)};e.prototype.setUp=function(){if(this.pb){c.log("M36");c.xhrConstructor=window.XMLHttpRequest;c.xhrOpen=this.xhrOpen=this.g.open;c.xhrSend=this.xhrSend=this.g.send;var f=this;this.g.open=c.aop.around(this.g.open,function(){e.Gg(this)&&(4===this.readyState?(c.log("M37"),e.Of(this._adrumAjaxT),e.a(this,this._adrumAjaxT)):c.log("M38"+this._adrumAjaxT.url()+"' is reported."));var g=1<=arguments.length?String(arguments[0]):"",h=2<=arguments.length?String(arguments[1]):"",h=c.utils.getFullyQualifiedUrl(h);f.Ja>=f.conf.maxPerPageView||e.Ad(h,g,f.conf)||(this._adrumAjaxT=new c.events.AdrumAjax(c.utils.mergeJSON({method:g,url:h},f.status)))},null,"XHR.open",e.qc);this.g.send=c.aop.around(this.g.send,function(C){var D=this,s=this._adrumAjaxT;if(s&&!(++f.Ja>f.conf.maxPerPageView)){var B=c.utils.now(),m=s.getSendTime();c.assert(null===m,"M39");s.timestamp(B);s.markSendTime(m||B);s.parentPhase(c.lifecycle.getPhaseName());e.Hg(s.url())?D.setRequestHeader("ADRUM","isAjax:true"):c.log("M40",document.location.href,s.url());C=e.fg(s.url(),f.conf.parameter,C);s.parameter(C);var n=0,g=function(){if(4==D.readyState){c.log("M41"),f.Ga(D)}else{var k=null;try{k=D.onreadystatechange}catch(h){c.log("M42",h);f.Ga(D);return}n++;k?c.aop.support(k)?(D.onreadystatechange=f.mc(k,D,"XHR.onReadyStateChange"),c.log("M43",n)):(c.log("M44"),f.Ga(D)):n<e.bf?c.utils.lb(g):(c.log("M45"),f.Ga(D))}};g()}},null,"XHR.send",e.qc);"addEventListener" in this.g&&"removeEventListener" in this.g&&c.aop.support(this.g.addEventListener)&&c.aop.support(this.g.removeEventListener)?(this.g.addEventListener=c.aop.around(this.g.addEventListener,this.Af(),null,"XHR.addEventListener"),this.g.removeEventListener=c.aop.around(this.g.removeEventListener,function(g,h){if(this._adrumAjaxT){var k=Array.prototype.slice.call(arguments);h.__adrumInterceptor?(k[1]=h.__adrumInterceptor,c.log("M46")):c.log("M47");return k}},null,"XHR.removeEventListener")):c.log("M48");c.log("M49")}};e.prototype.pd=function(){this.Ja=0};e.Wc=function(g,f){for(var k=!1,l=0;l<f.length;l++){var h=f[l];if(h&&h.test(g)){k=!0;break}}return k};e.Pc=function(g,f,l){var m=!1;if(f&&l){for(var h=0;h<l.length;h++){var k=l[h];if(!(k.method&&g!==k.method||k.urls&&!e.Wc(f,k.urls))){m=!0;break}}}return m};e.gh=function(g,f,h){return(f||g)===(h||g)};e.Hg=function(g){var f=document.createElement("a");f.href=g;g=document.location;var h=g.protocol;return f.protocol===h&&f.hostname===g.hostname&&e.gh(e.Df[h],f.port,g.port)};e.fg=function(g,f,h){if(f&&(f=t(x(t(f,function(k){return e.Wc(g,k.urls)}),function(k){return k.getFromBody(h)}),u),0<f.length)){return y(f,o,{})}};e.Fc=function(f){var g=f._adrumAjaxT;if(g){var h=(new Date).getTime();2==f.readyState?g.markFirstByteTime(g.getFirstByteTime()||h):4==f.readyState&&(c.assert(null===g.getRespAvailTime(),"M50"),g.markRespAvailTime(g.getRespAvailTime()||h),g.markFirstByteTime(g.getFirstByteTime()||h))}};e.prototype.mc=function(f,g,h){return e.Yh(f,function(){e.Fc(this)},function(){var k=g._adrumAjaxT;if(k&&4==g.readyState){var l=(new Date).getTime();c.assert(null===k.getRespProcTime(),"M51");k.markRespProcTime(k.getRespProcTime()||l);e.a(g,k);delete g._adrumAjaxT}},h)};e.Gg=function(f){return c.utils.isDefined(f._adrumAjaxT)&&c.utils.isString(f._adrumAjaxT._url)};e.Of=function(g){var f=(new Date).getTime();g.markRespAvailTime(g.getRespAvailTime()||f);g.markFirstByteTime(g.getFirstByteTime()||f);g.markRespProcTime(g.getRespProcTime()||f)};e.a=function(f,l){var m=f.status,h;l.xhrStatus(m);l.allResponseHeaders(f.getAllResponseHeaders());if(400<=m){try{i(f.responseText)&&(h=f.responseText)}catch(g){i(f.responseType)&&(h=f.responseType)}l.error({status:m,msg:h})}c.command("reportXhr",l)};e.prototype.Ga=function(f){if(f._adrumAjaxT){var g=(new Date).getTime()+30000,h=function(){e.Fc(f);var k=f._adrumAjaxT;if(k){var l=(new Date).getTime();4==f.readyState?(c.assert(null===k.getRespProcTime(),"M52"),k.markRespProcTime(k.getRespProcTime()||l),c.log("M53"),e.a(f,k),delete f._adrumAjaxT):l<g?setTimeout(h,e.Eb):(delete f._adrumAjaxT,c.log("M54"))}};h()}};e.Yh=function(f,k,l,g){var h=f;f&&"object"===typeof f&&"toString" in f&&"[xpconnect wrapped nsIDOMEventListener]"===f.toString()&&"handleEvent" in f&&(h=function(){f.handleEvent.apply(this,Array.prototype.slice.call(arguments))});return c.aop.around(h,k,l,g)};e.prototype.Af=function(){for(var f=0;f<arguments.length;f++){}var g=this;return function(h,m){if(("load"===h||"error"===h)&&m&&this._adrumAjaxT){var k;k=m;if(k.__adrumInterceptor){k=k.__adrumInterceptor}else{if(c.aop.support(k)){var l=g.mc(k,this,"XHR.invokeEventListener");k=k.__adrumInterceptor=l}else{k=null}}if(k){return l=Array.prototype.slice.call(arguments),l[1]=k,c.log("M55"),l}c.log("M56",h,m)}}};e.bf=5;e.Eb=50;e.Db=50;e.Df={"http:":"80","https:":"443"};return e}(z.Fb);z.ma=A;z.ha=new z.ma})(c.monitor||(c.monitor={}))})(b||(b={}));(function(c){(function(f){function h(m,l){var q=[],p=/^\s*(ADRUM_BT\w*)=(.*)\s*$/i.exec(m);if(p){var n=p[1],p=p[2].replace(/^"|"$/g,""),p=decodeURIComponent(p).split("|"),o=p[0].split(":");if("R"===o[0]&&Number(o[1])===l){for(k(n),n=1;n<p.length;n++){q.push(p[n])}}}return q}function i(m,l){var q=/^\s*(ADRUM_(\d+)_(\d+)_(\d+))=(.*)\s*$/i.exec(m);if(q){var p=q[1],n=q[4],o=q[5];if(Number(q[3])===l){return k(p),{index:Number(n),value:o}}}return null}function j(e){var g=/^\s*ADRUM=s=([\d]+)&r=(.*)\s*/.exec(e);if(g){c.log("M59",e);if(3===g.length){return k("ADRUM"),{startTime:Number(g[1]),startPage:g[2]}}c.error("M60",e);return null}}function k(e){c.log("M58",e);var g=new Date;g.setTime(g.getTime()-1000);document.cookie=e+"=;Expires="+g.toUTCString()}f.startTimeCookie=null;f.cookieMetadataChunks=null;f.oc=function(u,g){c.log("M57");for(var r=g?g.length:0,e=[],p=u.split(";"),t=0;t<p.length;t++){var d=p[t],o=i(d,r);o?e.push(o):(d=j(d),null!=d&&(f.startTimeCookie=d))}Array.prototype.sort.call(e,function(m,l){return m.index-l.index});d=[];for(t=0;t<e.length;t++){d.push(e[t].value)}for(t=0;t<p.length;t++){(e=h(p[t],r))&&0<e.length&&(d=d.concat(e))}f.cookieMetadataChunks=d};c.correlation.eck=f.oc})(c.correlation||(c.correlation={}))})(b||(b={}));(function(c){c.report=function(d){c.utils.isObject(d)&&c.utils.isFunction(d.type)?-1==[0,2,3,4].indexOf(d.type())?c.reportAPIMessage(0,d.type()+"is not a valid external event type","ADRUM.report",Array.prototype.slice.call(arguments)):c.utils.lb(function(){c.command("reportEvent",d)}):c.reportAPIMessage(1,"","ADRUM.report",Array.prototype.slice.call(arguments))}})(b||(b={}));(function(c){"APP_KEY_NOT_SET"===c.conf.appKey&&"undefined"!==typeof console&&"undefined"!==typeof console.log&&console.log("AppDynamics EUM cloud application key missing. Please specify window['adrum-app-key']");c.correlation.oc(document.cookie,document.referrer);c.command("mark","firstbyte",window["adrum-start-time"]);c.monitor.yd(c.monitor.ra,c.monitor.Gf,c.monitor.perfMonitor,c.monitor.ha)})(b||(b={}));(function(c){c=c.ng||(c.ng={});c=c.c||(c.c={});c.Tc="locationChangeStart";c.Pg="locationChangeSuccess";c.td="routeChangeStart";c.ud="routeChangeSuccess";c.Cd="stateChangeStart";c.Dd="stateChangeSuccess";c.Od="viewContentLoaded";c.pg="includeContentRequested";c.og="includeContentLoaded";c.nc="digest";c.Fi="outstandingRequestsComplete";c.fc="beforeNgXhrRequested";c.Yb="afterNgXhrRequested";c.Ei="ngXhrLoaded";c.jc="$$completeOutstandingRequest"})(b||(b={}));(function(c){(function(g){function h(k,r,p,o,f,m){if(r){try{return r.apply(k,[p,o,f].concat(m))}catch(s){return k.error(p,o,f,m,g.Error.oe,"an exception occurred in a caller-provided callback function",s)}}}function i(e,f){return function(){var n=this.current,m=f[n]||f[g.la]||n,d=Array.prototype.slice.call(arguments);if(this.tf(e)){return this.error(e,n,m,d,g.Error.pe,"event "+e+" inappropriate in current state "+this.current)}if(!1===h(this,this["onbefore"+e],e,n,m,d)){return g.ka.Ab}m===g.la&&(m=n);if(n===m){return h(this,this["onafter"+e]||this["on"+e],e,n,m,d),g.ka.Oe}var k=this;this.transition=function(){k.transition=null;k.current=m;h(k,k["onenter"+m]||k["on"+m],e,n,m,d);h(k,k["onafter"+e]||k["on"+e],e,n,m,d);return g.ka.We};if(!1===h(this,this["onleave"+n],e,n,m,d)){return this.transition=null,g.ka.Ab}if(this.transition){return this.transition()}}}var j=c.utils.hasOwnPropertyDefined;g.VERSION="2.3.5";g.ka={We:1,Oe:2,Ab:3,di:4};g.Error={pe:100,ei:200,oe:300};g.la="*";g.create=function(y,x){function v(f){var k=f.from instanceof Array?f.from:f.from?[f.from]:[g.la];r[f.name]=r[f.name]||{};for(var l=0;l<k.length;l++){A[k[l]]=A[k[l]]||[],A[k[l]].push(f.name),r[f.name][k[l]]=f.to||k[l]}}var d="string"==typeof y.initial?{state:y.initial}:y.initial,t=x||y.target||{},w=y.events||[],o=y.callbacks||{},r={},A={};d&&(d.event=d.event||"startup",v({name:d.event,from:"none",to:d.state}));for(var z=0;z<w.length;z++){v(w[z])}for(var e in r){j(r,e)&&(t[e]=i(e,r[e]))}for(e in o){j(o,e)&&(t[e]=o[e])}t.current="none";t.xi=function(f){return f instanceof Array?0<=f.indexOf(this.current):this.current===f};t.sf=function(f){return !this.transition&&(j(r[f],this.current)||j(r[f],g.la))};t.tf=function(f){return !this.sf(f)};t.Fa=function(){return A[this.current]};t.error=y.error||function(l,f,s,u,n,p,m){throw m||p};if(d&&!d.defer){t[d.event]()}return t}})(c.Sb||(c.Sb={}))})(b||(b={}));(function(c){(function(d){var e=function(f){function g(h){this.constructor!=c.ng.NgVPageView&&this.constructor!=g?c.reportAPIMessage(0,c.U,"ADRUM.events.VPageView",[]):(f.call(this,h),this.perf=new c.PerformanceTracker,this.start(),c.monitor.ha.pd(),c.monitor.ra.nh())}a(g,f);g.prototype.type=function(){return 3};g.prototype.bg=function(){return d.EventTracker.cc(this.guid(),this.url(),this.type())};g.prototype.Bd=function(h){var i=this.bg();h.set("parent",i);c.log("M61",i.guid(),i.url())};g.prototype.startCorrelatingXhrs=function(){c.log("M62");this.Bd(c.monitor.ha)};g.prototype.stopCorrelatingXhrs=function(){c.monitor.ha.set("parent",null);c.log("M63")};g.prototype.Ah=function(){c.log("M64");this.Bd(c.monitor.ra)};g.prototype.start=function(){this.markVirtualPageStart();this.startCorrelatingXhrs()};g.prototype.end=function(){this.markVirtualPageEnd();this.stopCorrelatingXhrs()};return g}(d.EventTracker);d.VPageView=e;d.$(d.w[3],e.prototype);d.dc(d.metricSpec[3],e.prototype)})(c.events||(c.events={}))})(b||(b={}));(function(d){var c=d.ng||(d.ng={}),c=c.conf||(c.conf={});c.disabled=d.conf.userConf&&d.conf.userConf.spa&&d.conf.userConf.spa.angular&&d.conf.userConf.spa.angular.disable;c.distinguishVPwithItsTemplateUrl=d.conf.userConf&&d.conf.userConf.spa&&d.conf.userConf.spa.angular&&!0===d.conf.userConf.spa.angular.distinguishVPwithItsTemplateUrl?!0:!1;c.xhr={};c.metrics={includeResTimingInEndUserResponseTiming:!0};d.conf.userConf&&d.conf.userConf.spa&&d.conf.userConf.spa.angular&&d.conf.userConf.spa.angular.vp&&(d.conf.userConf.spa.angular.vp.xhr&&d.monitor.ma.jd(c.xhr,d.conf.userConf.spa.angular.vp.xhr),d.conf.userConf.spa.angular.vp.metrics&&d.utils.mergeJSON(c.metrics,d.conf.userConf.spa.angular.vp.metrics))})(b||(b={}));(function(c){(function(g){var h=c.utils.map,i=c.utils.reduce,j=c.utils.filter,k=function(e){function d(f){e.call(this,f);this.Nc=!0;this.ca={};this.T=0;this.constructor!=d?c.reportAPIMessage(0,c.U,"ADRUM.events.Ajax",[]):this.stopCorrelatingXhrs()}a(d,e);d.prototype.type=function(){return 3};d.prototype.yb=function(){this.markViewChangeStart();this.markVirtualPageStart(this.getViewChangeStart());this.timestamp(this.getViewChangeStart())};d.prototype.qg=function(){this.digestCount(this.digestCount()+1)};d.prototype.rg=function(){this.T++;c.log("M65",this.T)};d.prototype.Cf=function(){this.T--;c.log("M66",this.T)};d.prototype.kg=function(){var f=this.perf.getEntryByName(c.events.b.Sd);c.log("M67",this.T,f);return 0<this.T};d.prototype.pf=function(){var l={Ea:0},f=document.querySelectorAll("ng-view, [ng-view], .ng-view, [ui-view]"),f=h(f,angular.element),m;for(m in d.qd){var n=d.qd[m];h(f,function(o){o=o.find(m);h(o,function(p){if(p=p[n]){p=decodeURIComponent(p),l[p]||(l[p]=m,l.Ea++)}})})}this.ca=l};d.prototype.of=function(f){return !!this.ca[decodeURIComponent(f.name)]};d.prototype.qf=function(){var f=[],l=this;0<this.ca.Ea&&(f=c.monitor.perfMonitor.Ac().filter(function(m){return l.of(m)}));this.resTiming(f)};d.Rf=function(f){return j(f,function(l){return(2===l.eventType||101===l.eventType)&&!c.monitor.ma.Ad(l.eventUrl,l.method,g.conf.xhr)})};d.cg=function(f){return i(f,function(m,l){return Math.max(m,l.timestamp+l.metrics.PLT)},-1)};d.prototype.hf=function(){if(g.conf.xhr){var f=d.Rf(c.channel.getEventsWithParentGUID(this.guid())),f=d.cg(f);if(0<f){var l=this.perf.getEntryByName(c.events.b.Sd);this.markXhrRequestsCompleted(Math.min(l&&l.startTime||Number.MAX_VALUE,f))}}};d.prototype.adjustTimings=function(){this.hf();var f=this.getViewDOMLoaded(),l=this.getXhrRequestsCompleted(),f=Math.max(f,l);g.conf.metrics.includeResTimingInEndUserResponseTiming&&(this.gf(),l=this.getViewResourcesLoaded(),l=Math.max(f,l),c.log("M68",f,l),f=l);this.markVirtualPageEnd(f)};d.prototype.gf=function(){if(0<this.ca.Ea){this.qf();var f=this.resTiming();f&&f.length>=this.ca.Ea&&(f=i(f,function(m,l){return Math.max(m,l.responseEnd)},0),this.markViewResourcesLoaded(c.PerformanceTracker.La(f)))}};d.prototype.identifier=function(f){var l=this.Qd;c.utils.isDefined(f)&&(this.Qd=d.Pf(f),this.url(this.Qd.url));return l};d.Pf=function(f){var l={};f&&f.j?(l.j={eb:""},c.utils.mergeJSON(l.j,{eb:f.j.originalPath,da:f.j.template,ea:f.j.templateUrl})):f&&f.state&&(l.state={url:""},c.utils.mergeJSON(l.state,{url:f.state.url,name:f.state.name,da:f.state.template,ea:f.state.templateUrl}));return l};d.qd={img:"src",script:"src",link:"href"};return d}(c.events.VPageView);g.NgVPageView=k;c.events.$(c.events.w[102],k.prototype)})(c.ng||(c.ng={}))})(b||(b={}));(function(c){(function(d){var e=function(){function f(){this.h=new d.NgVPageView}f.prototype.rh=function(){var g=this;d.conf.metrics.includeResTimingInEndUserResponseTiming?(c.log("M69"),setTimeout(function(){g.hb()},f.Ye)):setTimeout(function(){g.hb()},f.Ze)};f.prototype.hb=function(){c.log("M70");var g=this.h;g.parent(c.monitor.DOMEventsMonitor.currentBasePage);c.command("call",function(){g.adjustTimings();c.reporter.reportEvent(g)})};f.prototype.wh=function(g){this.h=g};f.Ye=5000;f.Ze=2*c.monitor.ma.Eb;return f}();d.VirtualPageStateMachine=e;c.Sb.create({events:[{name:"start",from:"none",to:"ChangeView"},{name:"viewLoaded",from:"ChangeView",to:"XhrPending"},{name:"xhrCompleted",from:"XhrPending",to:"End"},{name:"abort",from:"*",to:"none"},{name:"init",from:"*",to:"none"},{name:"locChange",from:"*",to:"*"},{name:"beforeXhrReq",from:"*",to:"*"},{name:"afterXhrReq",from:"*",to:"*"}],error:function(f){c.log("M71"+f)},callbacks:{onChangeView:function(){this.h.yb();this.h.Ah()},onviewLoaded:function(){this.h.markViewDOMLoaded()},onXhrPending:function(){this.h.Nc&&this.xhrCompleted()},onleaveXhrPending:function(g,f,h){if("abort"===g){return this.hb(),!0}if("xhrCompleted"===g&&"End"===h){if(this.h.kg()){return !1}this.h.markXhrRequestsCompleted();return !0}},onEnd:function(){this.h.pf();this.rh()},oninit:function(g,i,j,h){this.wh(h);c.monitor.ha.pd()},onlocChange:function(h,g,j,i){this.h.identifier.url=i;this.h.Da({url:i})},onbeforeXhrReq:function(g,j,l,i){var h=this.h;h.Nc=!1;c.log("M72",i&&i[1]||"",h.guid());h.rg();h.startCorrelatingXhrs();i[3]&&(i[3]=c.aop.before(i[3],function(f,k,m){c.log("M73");h.Cf();m&&(f=c.utils.fh(m)["content-type"])&&0<=f.indexOf("text/html")&&h.markViewFragmentsLoaded()}));return i},onafterXhrReq:function(){this.h.stopCorrelatingXhrs()}}},e.prototype)})(c.ng||(c.ng={}))})(b||(b={}));(function(c){(function(d){var e=function(){function f(){this.k=new d.VirtualPageStateMachine;this.distinguishVPwithItsTemplateUrl=c.ng.conf.distinguishVPwithItsTemplateUrl}f.prototype.l=function(i,j){c.log("M74",i);switch(i){case d.c.td:case d.c.Cd:this.k.start();var h=j.next.url||document.URL,g=new d.NgVPageView({url:h,identifier:j.next});this.distinguishVPwithItsTemplateUrl&&f.zg(this.k.h,g)?this.k.h.Da({url:h,identifier:j.next}):this.Gh(g);break;case d.c.ud:case d.c.Dd:this.k.h.markViewChangeEnd();break;case d.c.Od:this.k.viewLoaded();break;case d.c.fc:this.k.beforeXhrReq(j);break;case d.c.Yb:this.k.afterXhrReq();break;case d.c.jc:this.k.xhrCompleted();break;case d.c.Tc:this.k.h.Da({url:j.next.url});this.k.locChange(j.next.url);break;case d.c.nc:this.k.h.qg()}};f.prototype.Gh=function(g){this.k.abort();this.k.init(g);this.k.start()};f.zg=function(g,k){var j=g.identifier(),i=k.identifier(),h=!1;return h=!c.utils.isDefined(j)&&!c.utils.isDefined(i)||j===i?!0:c.utils.isDefined(j)&&c.utils.isDefined(i)?j.state||i.state?c.utils.isDefined(j.state)&&c.utils.isDefined(i.state)?j.state.name===i.state.name&&j.state.da===i.state.da&&j.state.ea===i.state.ea&&j.state.url===i.state.url:!1:j.j&&i.j?j.j.eb===i.j.eb&&j.j.da===i.j.da&&j.j.ea===i.j.ea:j.url===i.url:!1};return f}();d.$e=e})(c.ng||(c.ng={}))})(b||(b={}));(function(c){(function(d){var g=c.utils.addEventListener,h=function(){function e(){this.n=new d.$e;this.Lc=!1}e.prototype.setUp=function(){function f(j){return function(){c.log(j);i.init()}}var i=this;f("M75")();g(document,"DOMContentLoaded",f("M76"));g(window,"load",f("M77"))};e.prototype.init=function(){if("undefined"!=typeof angular&&!this.Lc){this.Lc=!0;c.log("M78");var f=this,i=angular.module("ng");i.config(["$provide",function(j){f.wg(j);f.vg(j)}]);i.run(["$browser",function(j){f.ug(j)}]);c.log("M79")}};e.prototype.vg=function(k){var j=c.aop,i=this;k.decorator("$httpBackend",["$delegate",function(f){return f=j.around(f,function(){var l=Array.prototype.slice.call(arguments);i.n.l(d.c.fc,l);return l},function(){i.n.l(d.c.Yb)},"ng.httpBackend")}])};e.prototype.wg=function(k){var j=c.aop,i=this;k.decorator("$rootScope",["$delegate",function(f){f.$digest=j.after(f.$digest,function(){i.n.l(d.c.nc)},"ngevents.digest");f.$on("$locationChangeStart",function(l,n){var o={url:n},m=l&&l.aa&&l.aa.$state&&l.aa.$state.current;m&&(o.state=m);i.n.l(d.c.Tc,{next:o})});f.$on("$locationChangeSuccess",function(){i.n.l(d.c.Pg)});f.$on("$routeChangeStart",function(l,n){var o={url:location.href},m=n&&n.$$route;m&&(o.j=m);i.n.l(d.c.td,{next:o})});f.$on("$routeChangeSuccess",function(){i.n.l(d.c.ud)});f.$on("$stateChangeStart",function(l,m){i.n.l(d.c.Cd,{next:{state:m}})});f.$on("$stateChangeSuccess",function(){i.n.l(d.c.Dd)});f.$on("$viewContentLoaded",function(l){var m={url:location.href};if(l=l&&l.aa&&l.aa.$state&&l.aa.$state.current){m.state=l}i.n.l(d.c.Od,{next:m})});f.$on("$includeContentRequested",function(){i.n.l(d.c.pg)});f.$on("$includeContentLoaded",function(){i.n.l(d.c.og)});return f}])};e.prototype.ug=function(i){var f=this;i.$$completeOutstandingRequest=c.aop.before(i.$$completeOutstandingRequest,function(){f.n.l(d.c.jc)})};return e}();d.Zh=h;d.ngMonitor=new h})(c.ng||(c.ng={}))})(b||(b={}));(function(d){var c=d.ng||(d.ng={});c.conf.disabled||d.monitor.yd(c.ngMonitor)})(b||(b={}))}}})();
